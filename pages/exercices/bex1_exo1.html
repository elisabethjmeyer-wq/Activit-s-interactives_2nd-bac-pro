<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEX n¬∞1 - Exercice 1 | Espace cours</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-bg: #eef2ff;
            --accent-yellow: #f59e0b;
            --accent-green: #10b981;
            --accent-green-light: #d1fae5;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --sidebar-width: 260px;
            --header-height: 64px;
            --radius: 12px;
            --radius-lg: 16px;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.5;
        }

        /* HEADER */
        .header {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            z-index: 100;
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 16px;
        }

        .menu-toggle {
            width: 42px;
            height: 42px;
            background: var(--gray-100);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--gray-600);
            flex-shrink: 0;
        }

        .menu-toggle:hover { background: var(--primary-bg); color: var(--primary); }
        .menu-toggle.active { background: var(--primary); color: white; }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 18px;
            color: var(--gray-900);
            text-decoration: none;
        }

        .logo-icon {
            width: 38px;
            height: 38px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        /* SIDEBAR */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: white;
            border-right: 1px solid var(--gray-200);
            padding: 20px 12px;
            overflow-y: auto;
            z-index: 90;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .sidebar.open { transform: translateX(0); }

        .sidebar-nav { display: flex; flex-direction: column; gap: 4px; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 10px;
            color: var(--gray-600);
            text-decoration: none;
            font-weight: 500;
        }

        .nav-item:hover { background: var(--gray-100); color: var(--gray-900); }
        .nav-item.active { background: var(--primary-bg); color: var(--primary); }
        .nav-icon { font-size: 18px; width: 24px; text-align: center; }
        .nav-section-title { font-size: 11px; font-weight: 600; color: var(--gray-400); text-transform: uppercase; padding: 20px 16px 8px; }

        /* OVERLAY */
        .overlay {
            position: fixed;
            top: var(--header-height);
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 80;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            pointer-events: none;
        }

        .overlay.visible { opacity: 1; visibility: visible; pointer-events: auto; }

        /* MAIN CONTENT */
        .main-content {
            margin-top: var(--header-height);
            padding: 24px;
            min-height: calc(100vh - var(--header-height));
        }

        .page-container { max-width: 900px; margin: 0 auto; }

        /* BREADCRUMB */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            flex-wrap: wrap;
        }

        .breadcrumb a { color: rgba(255,255,255,0.8); text-decoration: none; }
        .breadcrumb a:hover { color: white; }
        .breadcrumb span { color: rgba(255,255,255,0.5); }
        .breadcrumb .current { color: white; font-weight: 500; }

        /* EXERCISE STYLES */
        .exercise-header {
            background: white;
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-lg);
        }

        .exercise-header h1 { font-size: 24px; color: var(--gray-800); margin-bottom: 4px; }
        .exercise-header p { color: var(--gray-500); }

        .timer-box {
            background: linear-gradient(135deg, var(--accent-yellow), #fbbf24);
            color: white;
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
        }

        .timer-box.warning { background: linear-gradient(135deg, #ef4444, #dc2626); animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }

        .instructions {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent-yellow);
        }

        .instructions strong { color: var(--accent-yellow); }
        .instructions p { color: var(--gray-600); margin-top: 8px; }

        .exercise-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 24px;
            box-shadow: var(--shadow-lg);
        }

        table { width: 100%; border-collapse: collapse; margin-bottom: 24px; }

        th {
            background: linear-gradient(135deg, var(--accent-yellow), #fbbf24);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
        }

        th:first-child { border-radius: 8px 0 0 0; }
        th:last-child { border-radius: 0 8px 0 0; }

        td { padding: 12px; border-bottom: 1px solid var(--gray-200); }
        tr:last-child td { border-bottom: none; }
        tr:nth-child(even) { background: var(--gray-50); }
        td:first-child { font-weight: 700; color: var(--gray-800); font-size: 16px; }

        input[type="text"] {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }

        input:focus { outline: none; border-color: var(--accent-yellow); }
        input.correct { background: var(--accent-green-light); border-color: var(--accent-green); color: #065f46; font-weight: 600; }
        input.incorrect { background: #fee2e2; border-color: #ef4444; color: #991b1b; }

        .buttons { display: flex; gap: 12px; flex-wrap: wrap; }

        button {
            flex: 1;
            min-width: 150px;
            padding: 14px;
            border: none;
            border-radius: var(--radius);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-verify { background: linear-gradient(135deg, var(--accent-green), #34d399); color: white; }
        .btn-solution { background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; }
        .btn-restart { background: linear-gradient(135deg, var(--gray-500), var(--gray-400)); color: white; }

        .result {
            background: var(--accent-green-light);
            border: 2px solid var(--accent-green);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .result.show { display: block; }
        .result h3 { color: #065f46; margin-bottom: 8px; }
        .result p { color: #047857; }
        .score { font-size: 28px; font-weight: bold; color: #065f46; }

        @media (max-width: 768px) {
            table { font-size: 13px; }
            th, td { padding: 8px; }
            button { min-width: 100%; }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <button class="menu-toggle" id="menuToggle">‚ò∞</button>
        <a href="../../index.html" class="logo">
            <div class="logo-icon">üìö</div>
            <span>Espace cours</span>
        </a>
    </header>

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <a href="../../index.html" class="nav-item"><span class="nav-icon">üè†</span>Tableau de bord</a>
            <div class="nav-section-title">Ressources</div>
            <a href="../lecons.html" class="nav-item"><span class="nav-icon">üìñ</span>Le√ßons</a>
            <a href="../classeur.html" class="nav-item"><span class="nav-icon">üìÅ</span>Classeur num√©rique</a>
            <a href="../../videos_hebdomadaires_archives.html" class="nav-item"><span class="nav-icon">üé¨</span>Archives vid√©os</a>
            <div class="nav-section-title">Entra√Ænement</div>
            <a href="../entrainement-bex.html" class="nav-item active"><span class="nav-icon">‚≠ê</span>Entra√Ænement BEX</a>
            <div class="nav-section-title">Outils</div>
            <a href="../../FAQ.html" class="nav-item"><span class="nav-icon">‚ùì</span>FAQ</a>
            <a href="../emploi-du-temps.html" class="nav-item"><span class="nav-icon">üìÖ</span>Emploi du temps</a>
        </nav>
    </aside>

    <!-- OVERLAY -->
    <div class="overlay" id="overlay"></div>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <div class="page-container">
            <nav class="breadcrumb">
                <a href="../../index.html">üè† Accueil</a>
                <span>‚Ä∫</span>
                <a href="../entrainement-bex.html">Entra√Ænement BEX</a>
                <span>‚Ä∫</span>
                <span class="current">BEX n¬∞1 - Exercice 1</span>
            </nav>

            <div class="exercise-header">
                <h1>üìÖ BEX n¬∞1 - Exercice 1</h1>
                <p>Se rep√©rer dans le temps</p>
            </div>

            <div class="timer-box" id="timer">‚è±Ô∏è Temps restant : 10:00</div>

            <div class="instructions">
                <strong>üìã Consigne :</strong>
                <p>Pour chaque date, trouve le si√®cle, la grande p√©riode historique et le personnage-rep√®re associ√© √† cette grande p√©riode.</p>
            </div>

            <div class="exercise-card">
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Si√®cle</th>
                            <th>Grande p√©riode historique</th>
                            <th>Personnage-rep√®re</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1494</td>
                            <td><input type="text" id="siecle1" placeholder="Si√®cle..."></td>
                            <td><input type="text" id="periode1" placeholder="P√©riode..."></td>
                            <td><input type="text" id="personnage1" placeholder="Personnage..."></td>
                        </tr>
                        <tr>
                            <td>305</td>
                            <td><input type="text" id="siecle2" placeholder="Si√®cle..."></td>
                            <td><input type="text" id="periode2" placeholder="P√©riode..."></td>
                            <td><input type="text" id="personnage2" placeholder="Personnage..."></td>
                        </tr>
                        <tr>
                            <td>1685</td>
                            <td><input type="text" id="siecle3" placeholder="Si√®cle..."></td>
                            <td><input type="text" id="periode3" placeholder="P√©riode..."></td>
                            <td><input type="text" id="personnage3" placeholder="Personnage..."></td>
                        </tr>
                        <tr>
                            <td>1804</td>
                            <td><input type="text" id="siecle4" placeholder="Si√®cle..."></td>
                            <td><input type="text" id="periode4" placeholder="P√©riode..."></td>
                            <td><input type="text" id="personnage4" placeholder="Personnage..."></td>
                        </tr>
                    </tbody>
                </table>

                <div class="buttons">
                    <button class="btn-verify" onclick="verifyAnswers()">‚úì V√©rifier mes r√©ponses</button>
                    <button class="btn-solution" onclick="showSolution()">üìñ Voir le corrig√©</button>
                    <button class="btn-restart" onclick="restart()">üîÑ Recommencer</button>
                </div>

                <div class="result" id="result">
                    <h3>üìä R√©sultat</h3>
                    <p>Tu as obtenu <span class="score" id="score">0/12</span></p>
                    <p id="message"></p>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Sidebar toggle
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menuToggle');
        const overlay = document.getElementById('overlay');

        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            menuToggle.classList.toggle('active');
            overlay.classList.toggle('visible');
        });

        overlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            menuToggle.classList.remove('active');
            overlay.classList.remove('visible');
        });

        // Exercise logic
        const answers = {
            siecle1: ['15e', '15√®me', 'xve', 'xv', '15'],
            periode1: ['epoque moderne', 'temps modernes', 'moderne'],
            personnage1: ['louis 14', 'louis xiv', 'louis quatorze'],
            siecle2: ['4e', '4√®me', 'ive', 'iv', '4'],
            periode2: ['antiquite', 'antiquit√©'],
            personnage2: ['jules cesar', 'jules c√©sar', 'cesar', 'c√©sar'],
            siecle3: ['17e', '17√®me', 'xviie', 'xvii', '17'],
            periode3: ['epoque moderne', 'temps modernes', 'moderne'],
            personnage3: ['louis 14', 'louis xiv', 'louis quatorze'],
            siecle4: ['19e', '19√®me', 'xixe', 'xix', '19'],
            periode4: ['epoque contemporaine', 'contemporaine'],
            personnage4: ['victor hugo', 'hugo']
        };

        let timeLeft = 600;
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                document.getElementById('timer').textContent = `‚è±Ô∏è Temps restant : ${m}:${s.toString().padStart(2, '0')}`;
                if (timeLeft <= 120) document.getElementById('timer').classList.add('warning');
                if (timeLeft <= 0) { clearInterval(timerInterval); verifyAnswers(); }
            }, 1000);
        }

        function normalizeString(str) {
            return str.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^a-z0-9\s]/g, '');
        }

        function verifyAnswers() {
            clearInterval(timerInterval);
            let correctCount = 0;

            for (let key in answers) {
                const input = document.getElementById(key);
                const userAnswer = normalizeString(input.value);
                const correctList = answers[key].map(a => normalizeString(a));

                if (correctList.includes(userAnswer)) {
                    input.classList.remove('incorrect');
                    input.classList.add('correct');
                    correctCount++;
                } else {
                    input.classList.remove('correct');
                    input.classList.add('incorrect');
                }
            }

            const pct = Math.round((correctCount / 12) * 100);
            document.getElementById('score').textContent = `${correctCount}/12`;

            let msg = pct === 100 ? 'üéâ Parfait !' : pct >= 75 ? 'üëç Tr√®s bien !' : pct >= 50 ? 'üí™ Pas mal !' : 'üìö R√©vise et recommence !';
            document.getElementById('message').textContent = msg;
            document.getElementById('result').classList.add('show');
        }

        function showSolution() {
            clearInterval(timerInterval);
            document.getElementById('siecle1').value = '15e';
            document.getElementById('periode1').value = '√âpoque moderne';
            document.getElementById('personnage1').value = 'Louis XIV';
            document.getElementById('siecle2').value = '4e';
            document.getElementById('periode2').value = 'Antiquit√©';
            document.getElementById('personnage2').value = 'Jules C√©sar';
            document.getElementById('siecle3').value = '17e';
            document.getElementById('periode3').value = '√âpoque moderne';
            document.getElementById('personnage3').value = 'Louis XIV';
            document.getElementById('siecle4').value = '19e';
            document.getElementById('periode4').value = '√âpoque contemporaine';
            document.getElementById('personnage4').value = 'Victor Hugo';

            for (let key in answers) {
                document.getElementById(key).classList.add('correct');
                document.getElementById(key).classList.remove('incorrect');
            }

            document.getElementById('score').textContent = '12/12';
            document.getElementById('message').textContent = 'üìñ √âtudie bien les r√©ponses !';
            document.getElementById('result').classList.add('show');
        }

        function restart() {
            for (let key in answers) {
                const input = document.getElementById(key);
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            }
            document.getElementById('result').classList.remove('show');
            clearInterval(timerInterval);
            timeLeft = 600;
            document.getElementById('timer').classList.remove('warning');
            document.getElementById('timer').textContent = '‚è±Ô∏è Temps restant : 10:00';
            startTimer();
        }

        startTimer();
    </script>
</body>
</html>
