<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEX n¬∞3 - Exercice 1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .header h1 {
            font-size: 28px;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .header p {
            color: #6b7280;
            font-size: 16px;
        }

        .timer-box {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            border-radius: 12px;
            padding: 16px 24px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .timer-box.warning {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .instructions {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #f59e0b;
        }

        .instructions strong {
            color: #f59e0b;
            font-size: 16px;
        }

        .instructions p {
            color: #4b5563;
            margin-top: 8px;
            line-height: 1.6;
        }

        .exercise-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            margin-bottom: 20px;
        }

        .content-wrapper {
            display: grid;
            grid-template-columns: 55% 45%;
            gap: 20px;
            margin-bottom: 30px;
        }

        .document-section {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            overflow-y: auto;
            max-height: 700px;
        }

        .document-title {
            background: #60a5fa;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 15px;
        }

        .document-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            line-height: 1.7;
            color: #374151;
            font-size: 15px;
        }

        .document-content p {
            margin-bottom: 15px;
        }

        .document-legend {
            color: #6b7280;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #e5e7eb;
        }

        .table-section {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 15px;
            overflow-y: auto;
            max-height: 700px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 8px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
        }

        td {
            padding: 8px 6px;
            border: 1px solid #e5e7eb;
        }

        td:first-child {
            background: #f3f4f6;
            font-weight: 600;
            color: #374151;
            font-size: 12px;
            width: 40%;
        }

        input[type="text"] {
            width: 100%;
            padding: 6px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            font-size: 13px;
            transition: all 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        input.correct {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }

        input.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }

        .buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        button {
            flex: 1;
            min-width: 150px;
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .btn-verify {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
        }

        .btn-verify:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(16, 185, 129, 0.3);
        }

        .btn-solution {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
        }

        .btn-solution:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
        }

        .btn-restart {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
            color: white;
        }

        .btn-restart:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(107, 114, 128, 0.3);
        }

        .result {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .result.show {
            display: block;
        }

        .result h3 {
            color: #065f46;
            font-size: 20px;
            margin-bottom: 8px;
        }

        .result p {
            color: #047857;
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 22px;
            }

            button {
                min-width: 100%;
            }

            .document-section, .table-section {
                max-height: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö BEX n¬∞3 - Exercice 1</h1>
            <p>Identifier les √©l√©ments du paratexte</p>
        </div>

        <div class="timer-box" id="timer">
            ‚è±Ô∏è Temps restant : 10:00
        </div>

        <div class="instructions">
            <strong>üìã Consigne :</strong>
            <p>√Ä partir du document et des informations donn√©es dans le paratexte / la l√©gende, compl√®te le tableau ci-dessous. Si une information n'appara√Æt pas dans le document, √©cris simplement <strong>X</strong> dans le tableau.</p>
        </div>

        <div class="exercise-card">
            <div class="content-wrapper">
                <!-- COLONNE GAUCHE : DOCUMENT -->
                <div class="document-section">
                    <div class="document-title">Texte 1 - ¬´ Voici un livre de bonne foi ¬ª</div>
                    
                    <div class="document-content">
                        <p><em>Michel de Montaigne publie les Essais √† la fin du XVIe si√®cle. Dans cet ouvrage segment√© en trois volumes et cent sept chapitres, le philosophe aborde toutes sortes de sujets : la famille, l'√©ducation des enfants, la tristesse, la maladie, la peur, la mort, le voyage, l'imagination, la libert√©, l'exp√©rience... Cette entreprise se double de la volont√© de se raconter, de dire qui il est, √† travers de nombreuses confidences. Voici le texte que Montaigne place au seuil de son ≈ìuvre.</em></p>

                        <p>Voici un livre de bonne foi, lecteur. Il t'avertit d√®s le d√©but que je ne m'y suis fix√© aucun autre but que personnel et priv√© ; je ne m'y suis pas souci√©, ni de te rendre service, ni de ma propre gloire : mes forces ne sont pas √† la hauteur d'un tel dessein. Je l'ai d√©volu √† l'usage particulier de mes parents et de mes amis pour que, m'ayant perdu (ce qui se produira bient√¥t), ils puissent y retrouver les traits de mon comportement et de mon caract√®re, et que gr√¢ce √† lui ils entretiennent de fa√ßon plus vivante et plus compl√®te la connaissance qu'ils ont eue de moi. S'il s'√©tait agi de rechercher la faveur du monde, je me serais par√© de beaut√©s emprunt√©es. Je veux, au contraire, que l'on m'y voie dans toute ma simplicit√©, mon naturel et mon comportement ordinaire, sans recherche ni artifice, car c'est moi que je peins. Mes d√©fauts s'y verront sur le vif, mes imperfections et ma fa√ßon d'√™tre naturellement, autant que le respect du public me l'a permis. Si j'avais v√©cu dans un de ces peuples que l'on dit vivre encore selon la douce libert√© des premi√®res lois de la nature, je t'assure que je m'y serais tr√®s volontiers peint tout entier et tout nu.</p>

                        <p>Ainsi, lecteur, je suis moi-m√™me la mati√®re de mon livre : il n'est donc pas raisonnable d'occuper tes loisirs √† un sujet si frivole et si vain.</p>

                        <p>Adieu donc.</p>

                        <p>De Montaigne, ce 12 Juin 1588.</p>

                        <div class="document-legend">
                            Michel de Montaigne, ¬´ Au lecteur ¬ª, avant-propos des <em>Essais</em>, √©dition de 1595, texte modernis√© par Guy de Pernon, 2009.
                        </div>
                    </div>
                </div>

                <!-- COLONNE DROITE : TABLEAU -->
                <div class="table-section">
                    <table>
                        <tr>
                            <th colspan="2">OEUVRE D'ORIGINE</th>
                        </tr>
                        <tr>
                            <td>Auteur</td>
                            <td><input type="text" id="auteur" placeholder="Nom de l'auteur"></td>
                        </tr>
                        <tr>
                            <td>Titre de l'oeuvre</td>
                            <td><input type="text" id="titre" placeholder="Titre de l'≈ìuvre"></td>
                        </tr>
                        <tr>
                            <td>Partie de l'oeuvre</td>
                            <td><input type="text" id="partie" placeholder="Titre de la partie"></td>
                        </tr>
                        <tr>
                            <td>Dimensions de l'oeuvre</td>
                            <td><input type="text" id="dimensions" placeholder="Hauteur x Largeur"></td>
                        </tr>
                        <tr>
                            <td>Nature du document</td>
                            <td><input type="text" id="nature" placeholder="Type de document"></td>
                        </tr>
                        <tr>
                            <td>Date de r√©alisation</td>
                            <td><input type="text" id="dateRealisation" placeholder="Ann√©e de r√©alisation"></td>
                        </tr>
                        <tr>
                            <th colspan="2">TRAVAIL D'√âDITION ET DE CONSERVATION</th>
                        </tr>
                        <tr>
                            <td>Maison d'√©dition</td>
                            <td><input type="text" id="maison" placeholder="Nom de la maison d'√©dition"></td>
                        </tr>
                        <tr>
                            <td>Traducteur/adaptateur et date</td>
                            <td><input type="text" id="traducteur" placeholder="Nom et date"></td>
                        </tr>
                        <tr>
                            <td>Cr√©dit photo</td>
                            <td><input type="text" id="credit" placeholder="Cr√©dit photo"></td>
                        </tr>
                        <tr>
                            <td>Date d'√©dition</td>
                            <td><input type="text" id="dateEdition" placeholder="Ann√©e d'√©dition"></td>
                        </tr>
                        <tr>
                            <td>Lieu de conservation</td>
                            <td><input type="text" id="lieu" placeholder="Lieu de conservation"></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- BOUTONS EN BAS -->
            <div class="buttons">
                <button class="btn-verify" id="btnVerify">‚úì V√©rifier mes r√©ponses</button>
                <button class="btn-solution" id="btnSolution">üìñ Voir le corrig√©</button>
                <button class="btn-restart" id="btnRestart">üîÑ Recommencer</button>
            </div>

            <div class="result" id="result">
                <h3>üìä R√©sultat</h3>
                <p id="resultMessage"></p>
            </div>
        </div>
    </div>

    <script>
        var timeLeft = 600;
        var timerInterval;

        var correctAnswers = {
            auteur: ['michel de montaigne', 'montaigne'],
            maison: ['x'],
            titre: ['essais', 'les essais'],
            traducteur: ['guy de pernon a modernise le francais en 2009', 'guy de pernon 2009', 'guy de pernon modernise en 2009', 'guy de pernon, modernise en 2009'],
            partie: ['au lecteur', '"au lecteur"', 'avant-propos', '"au lecteur" = un avant propos', 'un avant propos'],
            credit: ['x'],
            dimensions: ['x'],
            dateEdition: ['1595'],
            nature: ['texte autobiographique', 'essais', 'texte autobiographique, essais', 'essais, texte autobiographique'],
            lieu: ['x'],
            dateRealisation: ['1588']
        };

        function startTimer() {
            timerInterval = setInterval(function() {
                timeLeft--;
                updateTimerDisplay();

                if (timeLeft <= 120 && timeLeft > 0) {
                    document.getElementById('timer').classList.add('warning');
                }

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    verifyAnswers();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            var minutes = Math.floor(timeLeft / 60);
            var seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                '‚è±Ô∏è Temps restant : ' + minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
        }

        function normalizeString(str) {
            return str.toLowerCase()
                      .trim()
                      .normalize("NFD")
                      .replace(/[\u0300-\u036f]/g, "")
                      .replace(/[^a-z0-9 ]/g, ' ')
                      .replace(/  +/g, ' ')
                      .trim();
        }

        function verifyAnswers() {
            clearInterval(timerInterval);
            
            var correctCount = 0;
            var totalFields = 0;

            for (var fieldId in correctAnswers) {
                totalFields++;
                var input = document.getElementById(fieldId);
                var userAnswer = normalizeString(input.value);
                var correct = correctAnswers[fieldId].map(function(a) { return normalizeString(a); });
                
                var isCorrect = correct.indexOf(userAnswer) !== -1;

                if (isCorrect) {
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                    correctCount++;
                } else {
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                }
            }

            var percentage = Math.round((correctCount / totalFields) * 100);
            var message = '';
            
            if (percentage === 100) {
                message = 'üéâ Parfait ! Tu as identifi√© tous les √©l√©ments du paratexte correctement ! Score : ' + correctCount + '/' + totalFields;
            } else if (percentage >= 75) {
                message = 'üëç Tr√®s bien ! Tu as trouv√© ' + correctCount + '/' + totalFields + ' √©l√©ments corrects.';
            } else if (percentage >= 50) {
                message = 'üí™ Pas mal ! Tu as trouv√© ' + correctCount + '/' + totalFields + ' √©l√©ments. Continue √† t\'entra√Æner !';
            } else {
                message = 'üìö Tu as trouv√© ' + correctCount + '/' + totalFields + ' √©l√©ments. R√©vise la m√©thode et recommence !';
            }
            
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('result').classList.add('show');
        }

        function showSolution() {
            clearInterval(timerInterval);

            document.getElementById('auteur').value = 'Michel de Montaigne';
            document.getElementById('maison').value = 'X';
            document.getElementById('titre').value = 'Essais';
            document.getElementById('traducteur').value = 'Guy de Pernon a modernis√© le fran√ßais en 2009';
            document.getElementById('partie').value = '"Au lecteur" = un avant propos';
            document.getElementById('credit').value = 'X';
            document.getElementById('dimensions').value = 'X';
            document.getElementById('dateEdition').value = '1595';
            document.getElementById('nature').value = 'Texte autobiographique, essais';
            document.getElementById('lieu').value = 'X';
            document.getElementById('dateRealisation').value = '1588';

            for (var fieldId in correctAnswers) {
                document.getElementById(fieldId).classList.add('correct');
                document.getElementById(fieldId).classList.remove('incorrect');
            }

            document.getElementById('resultMessage').textContent = 'üìñ Voici le corrig√© complet. √âtudie bien les √©l√©ments du paratexte !';
            document.getElementById('result').classList.add('show');
        }

        function restart() {
            for (var fieldId in correctAnswers) {
                var input = document.getElementById(fieldId);
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            }

            document.getElementById('result').classList.remove('show');

            clearInterval(timerInterval);
            timeLeft = 600;
            document.getElementById('timer').classList.remove('warning');
            updateTimerDisplay();
            startTimer();
        }

        document.getElementById('btnVerify').addEventListener('click', verifyAnswers);
        document.getElementById('btnSolution').addEventListener('click', showSolution);
        document.getElementById('btnRestart').addEventListener('click', restart);

        startTimer();
    </script>
</body>
</html>
